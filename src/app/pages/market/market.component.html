<div class="actions">
    <mat-form-field>
        <mat-label>Search</mat-label>
        <input matInput
               (keyup)="applyFilter($event)"
               placeholder="Ex. Dogecoin"
               #input>
    </mat-form-field>
    <div>
        <button mat-flat-button
                color="primary"
                (click)="getMarketCoin()">Refresh</button>
    </div>
</div>

<!-- Table for DogeCoin -->
<table mat-table
       [dataSource]="doge"
       class="mat-elevation-z8 mb-4">

    <!-- Position Rank -->
    <ng-container matColumnDef="rank">
        <th mat-header-cell
            *matHeaderCellDef>
            Rank
        </th>
        <td mat-cell
            *matCellDef="let coin">
            {{coin.rank}}
        </td>
    </ng-container>

    <!-- Position Name -->
    <ng-container matColumnDef="name">
        <th mat-header-cell
            *matHeaderCellDef>
            Name
        </th>
        <td mat-cell
            *matCellDef="let coin">
            {{coin.name}}
        </td>
    </ng-container>

    <!-- Name Price -->
    <ng-container matColumnDef="priceUsd">
        <th mat-header-cell
            *matHeaderCellDef>
            Price
        </th>
        <td mat-cell
            *matCellDef="let coin">
            {{coin.priceUsd | currency:'USD' }}
        </td>
    </ng-container>

    <!-- Weight Market Cap -->
    <ng-container matColumnDef="marketCapUsd">
        <th mat-header-cell
            *matHeaderCellDef> Market Cap </th>
        <td mat-cell
            *matCellDef="let coin"> ${{coin.marketCapUsd | currencyCustom:2}}
        </td>
    </ng-container>

    <!-- Symbol VWAP -->
    <ng-container matColumnDef="vwap24Hr">
        <th mat-header-cell
            *matHeaderCellDef>
            VWAP <sub>/24h</sub>
        </th>
        <td mat-cell
            *matCellDef="let coin">
            {{coin.vwap24Hr | currency:'USD'}}
        </td>
    </ng-container>

    <!-- Symbol Supply -->
    <ng-container matColumnDef="supply">
        <th mat-header-cell
            *matHeaderCellDef>
            Supply
        </th>
        <td mat-cell
            *matCellDef="let coin">
            {{coin.supply | currencyCustom:2}}
        </td>
    </ng-container>

    <!-- Symbol Volume -->
    <ng-container matColumnDef="volumeUsd24Hr">
        <th mat-header-cell
            *matHeaderCellDef>
            Volume <sub>/24h</sub>
        </th>
        <td mat-cell
            *matCellDef="let coin">
            ${{coin.volumeUsd24Hr | currencyCustom:2}}
        </td>
    </ng-container>

    <!-- Symbol Change -->
    <ng-container matColumnDef="changePercent24Hr">
        <th mat-header-cell
            *matHeaderCellDef>
            Change <sub>/24h</sub>
        </th>
        <td mat-cell
            [ngClass]="{'green': coin.changePercent24Hr > 0, 'red' : coin.changePercent24Hr < 0 }"
            *matCellDef="let coin">
            {{coin.changePercent24Hr | percent:'1.2-3'}}
        </td>
    </ng-container>

    <tr mat-row
        *matRowDef="let row; columns: displayedColumns;">
    </tr>
</table>

<table mat-table
       [dataSource]="dataSource"
       matSort
       class="mat-elevation-z8">

    <!-- Position Rank -->
    <ng-container matColumnDef="rank">
        <th mat-header-cell
            mat-sort-header
            sortActionDescription="Sort by rank"
            *matHeaderCellDef>
            Rank
        </th>
        <td mat-cell
            *matCellDef="let coin">
            {{coin.rank}}
        </td>
    </ng-container>

    <!-- Position Name -->
    <ng-container matColumnDef="name">
        <th mat-header-cell
            mat-sort-header
            sortActionDescription="Sort by name"
            *matHeaderCellDef>
            Name
        </th>
        <td mat-cell
            *matCellDef="let coin">
            {{coin.name}}
            <ng-container *ngIf="coin.id ==='dogecoin'">
                <img class="premium-img"
                     src="/assets/img/premium.png" />
            </ng-container>
        </td>
    </ng-container>

    <!-- Name Price -->
    <ng-container matColumnDef="priceUsd">
        <th mat-header-cell
            mat-sort-header
            sortActionDescription="Sort by price"
            *matHeaderCellDef>
            Price
        </th>
        <td mat-cell
            *matCellDef="let coin">
            {{coin.priceUsd | currency:'USD' }}
        </td>
    </ng-container>

    <!-- Weight Market Cap -->
    <ng-container matColumnDef="marketCapUsd">
        <th mat-header-cell
            mat-sort-header
            sortActionDescription="Sort by market cap"
            *matHeaderCellDef> Market Cap </th>
        <td mat-cell
            *matCellDef="let coin"> ${{coin.marketCapUsd | currencyCustom:2}}
        </td>
    </ng-container>

    <!-- Symbol VWAP -->
    <ng-container matColumnDef="vwap24Hr">
        <th mat-header-cell
            mat-sort-header
            sortActionDescription="Sort by VWAP"
            *matHeaderCellDef>
            VWAP <sub>/24h</sub>
        </th>
        <td mat-cell
            *matCellDef="let coin">
            {{coin.vwap24Hr | currency:'USD'}}
        </td>
    </ng-container>

    <!-- Symbol Supply -->
    <ng-container matColumnDef="supply">
        <th mat-header-cell
            mat-sort-header
            sortActionDescription="Sort by Supply"
            *matHeaderCellDef>
            Supply
        </th>
        <td mat-cell
            *matCellDef="let coin">
            {{coin.supply | currencyCustom:2}}
        </td>
    </ng-container>

    <!-- Symbol Volume -->
    <ng-container matColumnDef="volumeUsd24Hr">
        <th mat-header-cell
            mat-sort-header
            sortActionDescription="Sort by Volume"
            *matHeaderCellDef>
            Volume <sub>/24h</sub>
        </th>
        <td mat-cell
            *matCellDef="let coin">
            ${{coin.volumeUsd24Hr | currencyCustom:2}}
        </td>
    </ng-container>

    <!-- Symbol Change -->
    <ng-container matColumnDef="changePercent24Hr">
        <th mat-header-cell
            mat-sort-header
            sortActionDescription="Sort by Change"
            *matHeaderCellDef>
            Change <sub>/24h</sub>
        </th>
        <td mat-cell
            [ngClass]="{'green': coin.changePercent24Hr > 0, 'red' : coin.changePercent24Hr < 0 }"
            *matCellDef="let coin">
            {{coin.changePercent24Hr | percent:'1.2-3'}}
        </td>
    </ng-container>

    <tr mat-header-row
        *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row
        [class.premium]="row.id === 'dogecoin'"
        *matRowDef="let row; columns: displayedColumns;">
    </tr>
</table>